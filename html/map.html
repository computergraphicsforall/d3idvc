<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript" src="https://d3js.org/d3.v5.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3-legend/2.25.6/d3-legend.min.js"></script>
    <script type="text/javascript" src="../js/dataManipulation.js"></script>
    <script type="text/javascript" src="../js/elements.js"></script>
    <link rel="stylesheet" href="../css/styles.css" />
    <title>Title</title>
</head>
<body >
    <div id="main-container">

    </div>
    <script type="text/javascript">

        var loadingFile, geoData, geoValues;
        
        // countries.geo.json
        loadingFile = dataLoad('../data/upz.json');
        loadingFile.then(data => geoData = data)
            .then(data => dataLoad('../data/choropleth_data.json'))
            .then(data => dataMappingGeoJson(data, [], 'COD_UPZ'))
            .then(data => geoValues = data)
            .then(c => upzChoroplethMap())
            
            
         
        function upzChoroplethMap () {

            let svgContainer = createSVGViewbox('#main-container', 'map', 'xMinYMin meet', -50, 80, 1000, 500);
            addChoroplethLayerOnMap('#map', geoData, geoValues, 1, 9, 'COD_UPZ', 'ALEATORIO', [-74.081749, 4.6097102], 80000, 'svg', 'upz', true);
        }
    </script>
</body>
</html>